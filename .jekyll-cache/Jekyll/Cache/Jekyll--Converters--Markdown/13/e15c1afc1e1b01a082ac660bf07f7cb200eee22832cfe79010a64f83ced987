I"ÿ1<h1 id="criando-c√≥digo-de-exemplo">Criando c√≥digo de exemplo</h1>

<div class="alerta alerta-simples">
    <p>Tempo estimado: 10 minutos</p>
</div>

<p>Um bom c√≥digo de exemplo geralmente √© a melhor documenta√ß√£o. Mesmo que seus par√°grafos e listas sejam claros, os programadores ainda preferem um bom c√≥digo de amostra. Afinal, texto e c√≥digo s√£o linguagens diferentes, e √© com c√≥digo que o leitor se preocupa. Tentar descrever c√≥digo com texto √© como tentar explicar um poema italiano em ingl√™s.</p>

<p>Boas amostras s√£o c√≥digos <strong>corretos</strong> e <strong>concisos</strong> que seus leitores podem <strong>entender rapidamente</strong> e <strong>reutilizar facilmente</strong> com <strong>efeitos colaterais m√≠nimos</strong>.</p>

<h2 id="correto">Correto</h2>

<p>O c√≥digo de exemplo deve atender aos seguintes crit√©rios:</p>

<ul>
  <li>Compilar sem erros.</li>
  <li>Executar a tarefa que ele afirma realizar.</li>
  <li>Estar o mais pronto poss√≠vel para a produ√ß√£o. Por exemplo, o c√≥digo n√£o deve conter nenhuma vulnerabilidade de seguran√ßa.</li>
  <li>Seguir as conven√ß√µes espec√≠ficas da linguagem.</li>
</ul>

<p>O c√≥digo de exemplo √© uma oportunidade de influenciar diretamente como seus usu√°rios escrevem c√≥digo. Portanto, o c√≥digo de exemplo deve definir a melhor maneira de usar seu produto. Se houver mais de uma maneira de codificar a tarefa, codifique-a da maneira que sua equipe decidiu ser a melhor. Se sua equipe n√£o considerou os pr√≥s e os contras de cada abordagem, reserve um tempo para faz√™-lo.</p>

<p>Sempre teste seu c√≥digo de exemplo. Com o tempo, os sistemas mudam e seu c√≥digo de exemplo pode falhar. Esteja preparado para testar e manter o c√≥digo de exemplo como faria com qualquer outro c√≥digo.</p>

<p>Muitas equipes reutilizam seus testes unit√°rios como programas de exemplo, o que √†s vezes √© uma m√° ideia. O objetivo principal de um teste unit√°rio √© testar; o √∫nico objetivo de um programa de exemplo √© educar.</p>

<p>Um <em>snippet</em> √© um trecho de c√≥digo de um programa de exemplo, possivelmente com apenas uma ou algumas linhas. A documenta√ß√£o com muitos <em>snippets</em> geralmente se degrada com o tempo porque as equipes tendem a n√£o testar os <em>snippets</em> com tanto rigor quanto os programas de exemplo completos.</p>

<h3 id="executando-c√≥digo-de-exemplo">Executando c√≥digo de exemplo</h3>

<p>Bons documentos explicam como executar c√≥digo de exemplo. Por exemplo, seu documento pode precisar instruir os usu√°rios a realizar atividades como as seguintes, antes de executar os exemplos:</p>

<ul>
  <li>Instalar uma determinada biblioteca.</li>
  <li>Ajustar os valores atribu√≠dos a determinadas vari√°veis ‚Äã‚Äãde ambiente.</li>
  <li>Ajustar algo no ambiente de desenvolvimento integrado (IDE).</li>
</ul>

<p>Os usu√°rios nem sempre executam as atividades anteriores corretamente. Em algumas situa√ß√µes, os usu√°rios preferem executar ou (experimentar) c√≥digo de exemplo diretamente na documenta√ß√£o. (‚ÄúClique aqui para executar este c√≥digo.‚Äù)</p>

<p>Os redatores devem considerar descrever a sa√≠da ou resultado esperado do c√≥digo de exemplo, especialmente para c√≥digo de exemplo dif√≠cil de executar.</p>

<h2 id="conciso">Conciso</h2>

<p>O c√≥digo de exemplo deve ser curto, incluindo apenas componentes essenciais. Quando um programador C iniciante quiser aprender como chamar a fun√ß√£o <code class="language-plaintext highlighter-rouge">malloc</code>, d√™ a esse programador um breve trecho, n√£o toda √°rvore do c√≥digo-fonte do Linux. C√≥digo irrelevante pode distrair e confundir seu p√∫blico. Dito isso, nunca use m√°s pr√°ticas para encurtar seu c√≥digo; sempre prefira o correto ao conciso.</p>

<h2 id="compreens√≠vel">Compreens√≠vel</h2>

<p>Siga estas recomenda√ß√µes para criar um c√≥digo de exemplo claro:</p>

<ul>
  <li>Escolha nomes descritivos de classes, m√©todos e vari√°veis.</li>
  <li>Evite confundir seus leitores com truques de programa√ß√£o dif√≠ceis de decifrar.</li>
  <li>Evite c√≥digo profundamente aninhado.</li>
  <li>Opcional: Use fonte em negrito ou colorida para chamar a aten√ß√£o do leitor para uma se√ß√£o espec√≠fica do seu c√≥digo de exemplo. No entanto, use o destaque criteriosamente ‚Äì muito destaque significa que o leitor n√£o se concentrar√° em nada em particular.</li>
</ul>

<h3 id="exerc√≠cio">Exerc√≠cio</h3>

<p>Qual das op√ß√µes a seguir seria uma linha de c√≥digo mais √∫til em um programa de exemplo? Suponha que o p√∫blico-alvo seja formado por engenheiros de software novos na API fict√≠cia <code class="language-plaintext highlighter-rouge">go.so</code>.</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">MeuNivel = go.so.Nivel(5, 28, 48)</code></li>
  <li><code class="language-plaintext highlighter-rouge">MeuNivel = go.so.Nivel(ranque=5, 28, 48)</code></li>
  <li><code class="language-plaintext highlighter-rouge">MeuNivel = go.so.Nivel(ranque=5, dimensao=28, opacidade=48)</code></li>
</ol>

<details>
<summary>Clique para revelar a resposta.</summary>

<p>A resposta <b>3</b> √© a melhor escolha aqui. Embora seja tentador manter o c√≥digo de exemplo o mais curto poss√≠vel, a omiss√£o de nomes de par√¢metros dificulta o aprendizado dos novatos.</p>

</details>

<h2 id="comentado">Comentado</h2>

<p>Considere as seguintes recomenda√ß√µes sobre coment√°rios no c√≥digo de exemplo:</p>

<ul>
  <li>Mantenha os coment√°rios curtos, mas sempre prefira a clareza √† brevidade.</li>
  <li>Evite escrever coment√°rios sobre c√≥digo √≥bvio, mas lembre-se de que o que √© √≥bvio para voc√™ (o especialista) pode n√£o ser √≥bvio para os novatos.</li>
  <li>Concentre sua energia de coment√°rios em qualquer coisa n√£o intuitiva no c√≥digo.</li>
  <li>Quando seus leitores s√£o muito experientes com uma tecnologia, n√£o explique <em>o que</em> o c√≥digo est√° fazendo, explique <em>por que</em> o c√≥digo est√° fazendo isso.</li>
</ul>

<p>Voc√™ deve colocar descri√ß√µes de c√≥digo dentro de coment√°rios de c√≥digo ou em texto (par√°grafos ou listas) fora do c√≥digo de exemplo? Observe que os leitores que copiam e colam um <em>snippet</em> coletam n√£o apenas o c√≥digo, mas tamb√©m os coment√°rios incorporados. Portanto, coloque quaisquer descri√ß√µes que perten√ßam ao c√≥digo colado nos coment√°rios do c√≥digo. Por outro lado, quando voc√™ precisa explicar um conceito longo ou complicado, normalmente deve colocar o texto antes do programa de amostra.</p>

<div class="alerta alerta-azul">
    <p>Se voc√™ precisar deixar o c√≥digo menos pronto para a produ√ß√£o para torn√°-lo mais curto e f√°cil de entender, explique suas decis√µes nos coment√°rios.</p>
</div>

<h3 id="exerc√≠cio-1">Exerc√≠cio</h3>

<p>Quais problemas voc√™ v√™ nos coment√°rios no <em>snippet</em> a seguir? Suponha que o c√≥digo seja voltado para programadores que s√£o novos na API <code class="language-plaintext highlighter-rouge">br</code>, mas que t√™m alguma experi√™ncia com o conceito de <em>streams</em>:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/* Cria um fluxo a partir do arquivo de texto do caminho /tmp/myfile. */</span>
<span class="n">mystream</span> <span class="o">=</span> <span class="n">br</span><span class="o">.</span><span class="na">openstream</span><span class="o">(</span><span class="n">pathname</span><span class="o">=</span><span class="s">"/tmp/myfile"</span><span class="o">,</span> <span class="n">mode</span><span class="o">=</span><span class="s">"z"</span><span class="o">)</span>
</code></pre></div></div>

<details>
<summary>Clique para revelar a resposta.</summary>

<p>Os coment√°rios cont√™m as seguintes falhas:</p>

<ul>
    <li>O coment√°rio elabora uma parte bastante √≥bvia do c√≥digo.</li>
    <li>O <i>snippet</i> n√£o explica a parte n√£o √≥bvia do c√≥digo. Ou seja, o que √© o par√¢metro <code>mode</code> e o que significa um valor de "z"?</li>
</ul>

</details>

<h2 id="reutiliz√°vel">Reutiliz√°vel</h2>

<p>Para que seu leitor reutilize facilmente seu c√≥digo de exemplo, forne√ßa o seguinte:</p>

<ul>
  <li>Todas as informa√ß√µes necess√°rias para executar o c√≥digo de exemplo, incluindo quaisquer depend√™ncias e configura√ß√£o.</li>
  <li>C√≥digo que pode ser estendido ou personalizado de maneiras √∫teis.</li>
</ul>

<p>Ter um c√≥digo de exemplo f√°cil de entender, conciso e compilado √© um √≥timo come√ßo. Por√©m, se o aplicativo dos seus leitores explodir, eles n√£o ficar√£o felizes. Portanto, ao escrever o c√≥digo de exemplo, considere quaisquer efeitos colaterais potenciais causados ‚Äã‚Äãpela integra√ß√£o do seu c√≥digo em outro programa. Ningu√©m quer um c√≥digo inseguro ou extremamente ineficiente.</p>

<h2 id="o-exemplo-e-o-anti-exemplo">O exemplo e o anti-exemplo</h2>

<p>Al√©m de mostrar aos leitores <em>o que fazer</em>, √†s vezes √© s√°bio mostrar aos leitores <em>o que n√£o fazer</em>. Por exemplo, muitas linguagens de programa√ß√£o permitem que os programadores coloquem espa√ßos em branco em ambos os lados do sinal de igual. Agora suponha que voc√™ esteja escrevendo um tutorial em uma linguagem (como <em>bash</em>) que n√£o permite espa√ßo em branco em ambos os lados do sinal de igual. Nesse caso, mostrar um bom exemplo e um anti-exemplo beneficiar√° o leitor. Por exemplo:</p>

<p><i class="fa fa-thumbs-up" style="color: #34A853"></i></p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Uma atribui√ß√£o de string v√°lida.
s="A chuva no Maine."
</code></pre></div></div>

<p><i class="fa fa-thumbs-down" style="color: #DD2C00"></i></p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Uma atribui√ß√£o de string inv√°lida devido ao espa√ßo em branco em ambos os lados do
# sinal de igual.
s = "A chuva no Maine."
</code></pre></div></div>

<h2 id="sequenciado">Sequenciado</h2>

<p>Um bom conjunto de c√≥digos de exemplo demonstra uma variedade de complexidade.</p>

<p>Leitores completamente n√£o familiarizados com uma determinada tecnologia normalmente desejam exemplos simples para come√ßar. O primeiro e mais b√°sico exemplo em um conjunto de c√≥digos de amostra geralmente √© chamado de <a href="https://pt.wikipedia.org/wiki/Programa_Ol%C3%A1_Mundo">programa Ol√° Mundo</a>. Depois de dominar o b√°sico, os engenheiros de software querem programas mais complexos. Um bom conjunto de c√≥digos de exemplo fornece uma gama saud√°vel de programas de exemplo simples, moderados e complexos.</p>

<h3 id="exerc√≠cio-2">Exerc√≠cio</h3>

<p>Qual das op√ß√µes a seguir seria um bom conjunto de fun√ß√µes de exemplo para apoiar um tutorial apresentando o conceito de fun√ß√µes a novatos?</p>

<ol>
    <li>O seguinte conjunto de fun√ß√µes:
        <ul style="list-style-type: lower-alpha;">
            <li>Uma fun√ß√£o que n√£o recebe par√¢metros e n√£o retorna nada.</li>
            <li>Uma fun√ß√£o que recebe um par√¢metro, mas n√£o retorna nada.</li>
            <li>Uma fun√ß√£o que recebe um par√¢metro e retorna um valor.</li>
            <li>Uma fun√ß√£o que recebe tr√™s par√¢metros e retorna um valor.</li>
        </ul>
    </li>
    <li>O seguinte conjunto de fun√ß√µes:
        <ul style="list-style-type: lower-alpha;">
            <li>Uma fun√ß√£o que recebe tr√™s par√¢metros e retorna um valor.</li>
        </ul>
    </li>
    <li>O seguinte conjunto de fun√ß√µes:
        <ul style="list-style-type: lower-alpha;">
            <li>Uma fun√ß√£o que recebe um par√¢metro e retorna um valor.</li>
            <li>Uma fun√ß√£o que recebe tr√™s par√¢metros e retorna um valor.</li>
        </ul>
    </li>
</ol>

<details>
<summary>Clique para revelar a resposta.</summary>

<p>A melhor resposta √© <b>1</b>. Fornecer amostras que cobrem uma faixa de complexidade geralmente √© a escolha mais s√°bia, principalmente para os rec√©m-chegados. Resista √† tenta√ß√£o de <i>correr</i> para programas de amostra muito complexos, ignorando os programas de amostra para iniciantes e intermedi√°rios que os rec√©m-chegados querem.</p>

</details>

<h2 id="o-que-vem-a-seguir">O que vem a seguir?</h2>

<p>Parab√©ns: voc√™ concluiu o conte√∫do do M√≥dulo 2.</p>

<p>Uma r√°pida compila√ß√£o dos t√≥picos abordados no M√≥dulo 2 est√° dispon√≠vel na p√°gina <a href="/curso/modulo-2/resumo/">Resumo</a>.</p>

<hr />

<p style="font-size: 12px"><i>O conte√∫do desta p√°gina √© uma tradu√ß√£o livre e adaptada. O material original est√° dispon√≠vel em ingl√™s no <a href="https://developers.google.com/tech-writing" target="_blank">Google Developers</a> sob a licen√ßa <a href="https://creativecommons.org/licenses/by/4.0/deed.pt_BR" target="_blank">Creative Commons (CC BY 4.0)</a>.</i></p>
:ET